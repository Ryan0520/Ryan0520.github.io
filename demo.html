<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>这是标题</title>
	<script src="applocal://www/cordova.min.js">
    </script>
    <script>

    	function saveImages() {
    		cordova.exec(function(result) {
                alert(JSON.stringify(result, null, 4));
            },
            function(error) {
                alert(JSON.stringify(error, null, 4));
            },
            "WorkPlus_Image", "saveImages", [{
                "base64": "xxx",
                "watermark": {
                	"enabled": true,
                	"content": "这是水印内容"
                }
            }]);
    	}

        // 打开收银台
        function selectToPay() {
            cordova.exec(function(result) {
                // alert(JSON.stringify(result, null, 4));
                chinaUmsPay({"pay_type": result.result.pay_type});
            },
            function(error) {
                alert(JSON.stringify(error, null, 4));
            },
            "Workplus_Pay", "selectToPay", [{
                "original_amount": "¥11,000.1",
                "total_amount": "¥10,900.1",
                "mer_order_id": "***",
                "goods": [{
                    "goods_id": "***",
                    "goods_name": "员工用车租金-年费订单",
                    "quantity": 1,
                    "price": 10000,
                    "goods_category": "***",
                    "body": "这是用车租金说明"
                },{
                    "goods_id": "***",
                    "goods_name": "Apple iPhone13 pro max 256G 银色",
                    "quantity": 2,
                    "price": 10000,
                    "goods_category": "***",
                    "body": "这是用车租金说明"
                },{
                    "goods_id": "***",
                    "goods_name": "Apple M1 MacBook Pro 14寸 256G 银色",
                    "quantity": 3,
                    "price": 10000,
                    "goods_category": "***",
                    "body": "这是用车租金说明"
                },{
                    "goods_id": "***",
                    "goods_name": "Apple M1 MacBook Pro 16寸 4T 石墨灰",
                    "quantity": 4,
                    "price": 10000,
                    "goods_category": "***",
                    "body": "这是用车租金说明"
                }],
                "merchant_name": "华晨宝马汽车有限公司",
                "payment_time": 36000,
                "pay_type": ["unionPay", "wxPay", "aliPay"]
            }]);
        }
        
        function chinaUmsPay(params) {
            cordova.exec(function(result) {
                alert(JSON.stringify(result, null, 4));
            },
            function(error) {
                JSON.stringify(error, null, 4)
            },
            "Workplus_Pay", "chinaUmsPay", [{
                "pay_type": params.pay_type,
                "app_pay_request": {
                    "tn" : "625818268759364447413"
                  }
            }]);
        }
        
        function aliPay() {
            cordova.exec(function(result) {
                alert(JSON.stringify(result, null, 4));
            },
            function(error) {
                JSON.stringify(error, null, 4)
            },
            "Workplus_Pay", "chinaUmsPay", [{
                "pay_type": "aliPay",
                "app_pay_request": {
                    "tn" : "625818268759364447413"
                }
            }]);
        }
        
        function weChatPay() {
            cordova.exec(function(result) {
                alert(JSON.stringify(result, null, 4));
            },
            function(error) {
                JSON.stringify(error, null, 4)
            },
            "Workplus_Pay", "chinaUmsPay", [{
                "pay_type": "wxPay",
                "app_pay_request": {
                    "sign" : "DBA95D07B5080738F11200EA7A0A16EB",
                    "partnerid" : "305854097",
                    "prepayid" : "ori=31948967866834871891757527392548",
                    "timestamp" : "20220512172757",
                    "package" : "Sign=WXPay",
                    "noncestr" : "kZAnoaAqnzkjWSLzbRFiNEqIVINQyTvq",
                    "minipath" : "pages\/appPay\/test",
                    "miniuser" : "gh_33ac396c0f06",
                    "appid" : "wxc71b9ae0235a4c30"
                }
            }]);
        }
        
        function unionPay(params) {
            cordova.exec(function(result) {
                alert(JSON.stringify(result, null, 4));
            },
            function(error) {
                JSON.stringify(error, null, 4)
            },
            "Workplus_Pay", "chinaUmsPay", [{
                "pay_type": "unionPay",
                "app_pay_request": {
                    "tn" : "604053029453131957706"
                }
            }]);
        }
    </script>
</head>
<body>
	<button type="button" onclick="saveImages()">保存图片</button><br><br>
	<button type="button" onclick="selectToPay()">打开收银台</button><br><br>
	<button type="button" onclick="aliPay()">发起支付宝支付</button><br><br>
	<button type="button" onclick="weChatPay()">发起微信支付</button><br><br>
	<button type="button" onclick="unionPay()">发起云闪付支付</button><br><br>
</body>
</html>